---
ms.date: 09/13/2016
ms.topic: reference
title: Como criar um shell do console
description: Como criar um shell do console
ms.openlocfilehash: 9ea67c43b1ee35b1fbfc553b22a1423419317ca2
ms.sourcegitcommit: ba7315a496986451cfc1296b659d73ea2373d3f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/10/2020
ms.locfileid: "92657215"
---
# <a name="how-to-create-a-console-shell"></a><span data-ttu-id="1561f-103">Como criar um shell do console</span><span class="sxs-lookup"><span data-stu-id="1561f-103">How to Create a Console Shell</span></span>

<span data-ttu-id="1561f-104">O Windows PowerShell fornece uma ferramenta de Make-Shell, também conhecida como "Make-Kit", usada para criar um shell de console que não seja extensível.</span><span class="sxs-lookup"><span data-stu-id="1561f-104">Windows PowerShell provides a Make-Shell tool, also referred to as the "make-kit", that is used to create a console shell that is not extensible.</span></span> <span data-ttu-id="1561f-105">Os shells criados com essa nova ferramenta não podem ser estendidos posteriormente por meio de um snap-in do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1561f-105">Shells created with this new tool cannot be extended later through a Windows PowerShell snap-in.</span></span>

## <a name="syntax"></a><span data-ttu-id="1561f-106">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="1561f-106">Syntax</span></span>

<span data-ttu-id="1561f-107">Aqui está a sintaxe usada para executar Make-Shell de dentro de um make-File.</span><span class="sxs-lookup"><span data-stu-id="1561f-107">Here is the syntax used to run Make-Shell from within a make-file.</span></span>

```
make-shell
  -out n.exe
  -namespace ns
  [ -lib libdirectory1[,libdirectory2,..] ]
  [ -reference ca1.dll[,ca2.dll,...] ]
  [ -formatdata fd1.format.ps1xml[,fd2.format.ps1xml,...] ]
  [ -typedata td1.type.ps1xml[,td2.type.ps1xml,...] ]
  [ -source c1.cs [,c2.cs,...] ]
  [ -authorizationmanager authorizationManagerType ]
  [ -win32icon i.ico ]
  [ -initscript p.ps1 ]
  [ -builtinscript s1.ps1[,s2.ps1,...] ]
  [ -resource resourcefile.txt ]
  [ -cscflags cscFlags ]
  [ -? | -help ]
```

## <a name="parameters"></a><span data-ttu-id="1561f-108">Parâmetros</span><span class="sxs-lookup"><span data-stu-id="1561f-108">Parameters</span></span>

<span data-ttu-id="1561f-109">Aqui está uma breve descrição dos parâmetros de make-Shell.</span><span class="sxs-lookup"><span data-stu-id="1561f-109">Here is a brief description of the parameters of Make-Shell.</span></span>

> [!CAUTION]
> <span data-ttu-id="1561f-110">O make-shell não dá suporte a caminhos UNC para assemblies.</span><span class="sxs-lookup"><span data-stu-id="1561f-110">UNC paths to assemblies are not supported by Make-Shell.</span></span>

|<span data-ttu-id="1561f-111">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="1561f-111">Parameter</span></span>|<span data-ttu-id="1561f-112">Descrição</span><span class="sxs-lookup"><span data-stu-id="1561f-112">Description</span></span>|
|---------------|-----------------|
|<span data-ttu-id="1561f-113">-out n.exe</span><span class="sxs-lookup"><span data-stu-id="1561f-113">-out n.exe</span></span>|<span data-ttu-id="1561f-114">Obrigatórios.</span><span class="sxs-lookup"><span data-stu-id="1561f-114">Required.</span></span> <span data-ttu-id="1561f-115">O nome do Shell a ser produzido.</span><span class="sxs-lookup"><span data-stu-id="1561f-115">The name of the shell to produce.</span></span> <span data-ttu-id="1561f-116">O caminho é especificado como parte desse parâmetro.</span><span class="sxs-lookup"><span data-stu-id="1561f-116">The path is specified as part of this parameter.</span></span><br /><br /> <span data-ttu-id="1561f-117">Make-Shell acrescentará ". exe" a esse valor se não for especificado.</span><span class="sxs-lookup"><span data-stu-id="1561f-117">Make-shell will append ".exe" to this value if it is not specified.</span></span> <span data-ttu-id="1561f-118">**Cuidado:**  Não crie um arquivo de saída com o mesmo nome que o arquivo. dll referenciado.</span><span class="sxs-lookup"><span data-stu-id="1561f-118">**Caution:**  Do not create an output file with the same name as the referenced .dll file.</span></span> <span data-ttu-id="1561f-119">Se você tentar isso, a ferramenta de Make-Shell criará um arquivo. cs com o mesmo nome, que substituirá o arquivo. cs que tem o código-fonte do cmdlet.</span><span class="sxs-lookup"><span data-stu-id="1561f-119">If you attempt this, the Make-Shell tool creates a .cs file with the same name, which will overwrite the .cs file that has your cmdlet source code.</span></span>|
|<span data-ttu-id="1561f-120">-namespace NS</span><span class="sxs-lookup"><span data-stu-id="1561f-120">-namespace ns</span></span>|<span data-ttu-id="1561f-121">Obrigatórios.</span><span class="sxs-lookup"><span data-stu-id="1561f-121">Required.</span></span> <span data-ttu-id="1561f-122">O namespace a ser usado para a classe derivada de [System. Management. Automation. Runspaces. Runspaceconfiguration](/dotnet/api/System.Management.Automation.Runspaces.RunspaceConfiguration) que o make-kit gera e compila.</span><span class="sxs-lookup"><span data-stu-id="1561f-122">The namespace to use for the derived [System.Management.Automation.Runspaces.Runspaceconfiguration](/dotnet/api/System.Management.Automation.Runspaces.RunspaceConfiguration) class that the make-kit generates and compiles.</span></span>|
|<span data-ttu-id="1561f-123">-lib libdirectory1 [, libdirectory2,..]</span><span class="sxs-lookup"><span data-stu-id="1561f-123">-lib libdirectory1[,libdirectory2,..]</span></span>|<span data-ttu-id="1561f-124">Os diretórios que são pesquisados em assemblies do .NET, incluindo os assemblies do Windows PowerShell, os assemblies especificados pelo `reference` parâmetro, os assemblies referenciados indiretamente por outro assembly e os assemblies do sistema .net.</span><span class="sxs-lookup"><span data-stu-id="1561f-124">The directories that are searched for .NET assemblies, including the Windows PowerShell assemblies, assemblies specified by the `reference` parameter, assemblies indirectly referenced by another assembly, and the .NET system assemblies.</span></span>|
|<span data-ttu-id="1561f-125">-ca1.dll de referência [, ca2.dll,...]</span><span class="sxs-lookup"><span data-stu-id="1561f-125">-reference ca1.dll[,ca2.dll,...]</span></span>|<span data-ttu-id="1561f-126">Uma lista separada por vírgulas dos assemblies a serem incluídos no Shell.</span><span class="sxs-lookup"><span data-stu-id="1561f-126">A comma-separated list of the assemblies to include in the shell.</span></span> <span data-ttu-id="1561f-127">Esses assemblies incluem todos os assemblies de cmdlet e provedor, bem como os assemblies de recursos que devem ser carregados.</span><span class="sxs-lookup"><span data-stu-id="1561f-127">These assemblies  includes all cmdlet and provider assemblies, as well as resource assemblies that should be loaded.</span></span> <span data-ttu-id="1561f-128">Se esse parâmetro não for especificado, será produzido um shell que contém apenas os cmdlets e os provedores principais fornecidos pelo Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1561f-128">If this parameter is not specified, then a shell is produced that contains only the core cmdlets and providers provided by Windows PowerShell.</span></span><br /><br /> <span data-ttu-id="1561f-129">Os assemblies podem ser especificados usando seu caminho completo, caso contrário, eles serão pesquisados usando o caminho especificado pelo `lib` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="1561f-129">The assemblies can be specified using their full path, otherwise they will be searched for using the path specified by the `lib` parameter.</span></span>|
|<span data-ttu-id="1561f-130">-FormatData fd1.format.ps1XML [, fd2.format.ps1XML,...]</span><span class="sxs-lookup"><span data-stu-id="1561f-130">-formatdata fd1.format.ps1xml[,fd2.format.ps1xml,...]</span></span>|<span data-ttu-id="1561f-131">Uma lista separada por vírgulas dos dados de formato a serem incluídos no Shell.</span><span class="sxs-lookup"><span data-stu-id="1561f-131">A comma-separated list of format data to include in the shell.</span></span> <span data-ttu-id="1561f-132">Se esse parâmetro não for especificado, será produzido um shell que contém apenas os dados de formato fornecidos pelo Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1561f-132">If this parameter is not specified, then a shell is produced that contains only the format data provided by Windows PowerShell.</span></span>|
|<span data-ttu-id="1561f-133">-TypeData td1.type.ps1XML [, td2.type.ps1XML,...]</span><span class="sxs-lookup"><span data-stu-id="1561f-133">-typedata td1.type.ps1xml[,td2.type.ps1xml,...]</span></span>|<span data-ttu-id="1561f-134">Uma lista separada por vírgulas do tipo dados a serem incluídos no Shell.</span><span class="sxs-lookup"><span data-stu-id="1561f-134">A comma-separated list of type data to include in the shell.</span></span> <span data-ttu-id="1561f-135">Se esse parâmetro não for especificado, será produzido um shell que contém apenas os dados de tipo fornecidos pelo Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1561f-135">If this parameter is not specified, then a shell is produced that contains only the type data provided by Windows PowerShell.</span></span>|
|<span data-ttu-id="1561f-136">-Source c1.cs [, c2.cs,...]</span><span class="sxs-lookup"><span data-stu-id="1561f-136">-source c1.cs [,c2.cs,...]</span></span>|<span data-ttu-id="1561f-137">O nome de um arquivo, fornecido pelo desenvolvedor do Shell, que contém qualquer código-fonte necessário para compilar o Shell.</span><span class="sxs-lookup"><span data-stu-id="1561f-137">The name of a file, provided by the shell developer, that contains any source code needed to build the shell.</span></span><br /><br /> <span data-ttu-id="1561f-138">O arquivo de código-fonte pode conter qualquer um dos seguintes códigos-fonte:</span><span class="sxs-lookup"><span data-stu-id="1561f-138">The source code file can contain any of the following source code:</span></span><br /><br /> <span data-ttu-id="1561f-139">-A implementação do Gerenciador de autorização que substitui o Gerenciador de autorização padrão.</span><span class="sxs-lookup"><span data-stu-id="1561f-139">-   The Authorization manager implementation that overrides the default authorization manager.</span></span> <span data-ttu-id="1561f-140">(Isso também pode ser fornecido compilado em um assembly.)</span><span class="sxs-lookup"><span data-stu-id="1561f-140">(This could also be supplied compiled into an assembly.)</span></span><br /><span data-ttu-id="1561f-141">-Declarações de atributo informativo de assembly: como AssemblyCompanyAttribute, AssemblyCopyrightAttribute, AssemblyFileVersionAttribute, AssemblyInformationalVersionAttribute, AssemblyProductAttribute e AssemblyTrademarkAttribute.</span><span class="sxs-lookup"><span data-stu-id="1561f-141">-   Assembly informational attribute declarations: such as the AssemblyCompanyAttribute, AssemblyCopyrightAttribute, AssemblyFileVersionAttribute, AssemblyInformationalVersionAttribute, AssemblyProductAttribute, and AssemblyTrademarkAttribute.</span></span>|
|<span data-ttu-id="1561f-142">-AuthorizationManager authorizationManagerType</span><span class="sxs-lookup"><span data-stu-id="1561f-142">-authorizationmanager authorizationManagerType</span></span>|<span data-ttu-id="1561f-143">O tipo que contém a implementação do Gerenciador de autorização.</span><span class="sxs-lookup"><span data-stu-id="1561f-143">The type that contains the authorization manager implementation.</span></span> <span data-ttu-id="1561f-144">Isso pode ser definido no código-fonte ou compilado em um assembly (especificado pelo `reference` parâmetro).</span><span class="sxs-lookup"><span data-stu-id="1561f-144">This can be defined in source code, or compiled into an assembly (specified by the `reference` parameter).</span></span> <span data-ttu-id="1561f-145">Se esse parâmetro não for especificado, o Gerenciador de segurança padrão será usado.</span><span class="sxs-lookup"><span data-stu-id="1561f-145">If this parameter is not specified, the default security manager is used.</span></span> <span data-ttu-id="1561f-146">O valor deve ser o nome completo do tipo, incluindo namespaces.</span><span class="sxs-lookup"><span data-stu-id="1561f-146">The value should be the full type name, including namespaces.</span></span>|
|<span data-ttu-id="1561f-147">-win32icon i. ico</span><span class="sxs-lookup"><span data-stu-id="1561f-147">-win32icon i.ico</span></span>|<span data-ttu-id="1561f-148">O ícone do arquivo. exe para o Shell.</span><span class="sxs-lookup"><span data-stu-id="1561f-148">The icon for the .exe file for the shell.</span></span> <span data-ttu-id="1561f-149">Se não for especificado, o Shell terá o ícone que o compilador c# inclui (se houver).</span><span class="sxs-lookup"><span data-stu-id="1561f-149">If not specified, then the shell will have the icon that the c# compiler includes (if any).</span></span>|
|<span data-ttu-id="1561f-150">-initscript p.ps1</span><span class="sxs-lookup"><span data-stu-id="1561f-150">-initscript p.ps1</span></span>|<span data-ttu-id="1561f-151">O perfil de inicialização do Shell.</span><span class="sxs-lookup"><span data-stu-id="1561f-151">The startup profile for the shell.</span></span> <span data-ttu-id="1561f-152">O arquivo está incluído "no estado em que se encontra"; nenhuma verificação de validade é feita por Make-Shell.</span><span class="sxs-lookup"><span data-stu-id="1561f-152">The file is included "as-is"; no validity checking is done by Make-Shell.</span></span>|
|<span data-ttu-id="1561f-153">-builtinscript s1.ps1 [, s2.ps1,...]</span><span class="sxs-lookup"><span data-stu-id="1561f-153">-builtinscript s1.ps1[,s2.ps1,...]</span></span>|<span data-ttu-id="1561f-154">Uma lista de scripts internos para o Shell.</span><span class="sxs-lookup"><span data-stu-id="1561f-154">A list of built-in scripts for the shell.</span></span> <span data-ttu-id="1561f-155">Esses scripts são descobertos antes dos scripts no caminho, e seu conteúdo não pode ser alterado depois que o Shell é criado.</span><span class="sxs-lookup"><span data-stu-id="1561f-155">These scripts are discovered before scripts in the path, and their contents cannot be changed once the shell is built.</span></span><br /><br /> <span data-ttu-id="1561f-156">Os arquivos estão incluídos "no estado em que se encontram"; nenhuma verificação de validade é feita por Make-Shell.</span><span class="sxs-lookup"><span data-stu-id="1561f-156">The files are included "as-is"; no validity checking is done by Make-Shell.</span></span>|
|<span data-ttu-id="1561f-157">-resourcefile.txt de recursos</span><span class="sxs-lookup"><span data-stu-id="1561f-157">-resource resourcefile.txt</span></span>|<span data-ttu-id="1561f-158">O arquivo. txt que contém a ajuda e os recursos de faixa para o Shell.</span><span class="sxs-lookup"><span data-stu-id="1561f-158">The .txt file containing help and banner resources for the shell.</span></span> <span data-ttu-id="1561f-159">O primeiro recurso é denominado ShellHelp e contém o texto exibido se o Shell for invocado com o `help` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="1561f-159">The first resource is named ShellHelp, and contains the text displayed if the shell is invoked with the `help` parameter.</span></span> <span data-ttu-id="1561f-160">O segundo recurso é denominado ShellBanner e contém o texto e as informações de direitos autorais exibidas quando o Shell é iniciado no modo interativo.</span><span class="sxs-lookup"><span data-stu-id="1561f-160">The second resource is named ShellBanner, and it contains the text and copyright information displayed when the shell is launched in interactive mode.</span></span><br /><br /> <span data-ttu-id="1561f-161">Se esse parâmetro não for fornecido ou se esses recursos não estiverem presentes, uma ajuda e faixa genérica serão usadas.</span><span class="sxs-lookup"><span data-stu-id="1561f-161">If this parameter is not provided, or these resources are not present, then a generic help and banner are used.</span></span>|
|<span data-ttu-id="1561f-162">-cscflags cscFlags</span><span class="sxs-lookup"><span data-stu-id="1561f-162">-cscflags cscFlags</span></span>|<span data-ttu-id="1561f-163">Sinalizadores que devem ser passados para o compilador C# (csc.exe).</span><span class="sxs-lookup"><span data-stu-id="1561f-163">Flags that should be passed to the C# compiler (csc.exe).</span></span> <span data-ttu-id="1561f-164">Eles são transmitidos por meio de inalterado.</span><span class="sxs-lookup"><span data-stu-id="1561f-164">These are passed through unchanged.</span></span> <span data-ttu-id="1561f-165">Se esse parâmetro incluir espaços, ele deverá estar entre aspas duplas.</span><span class="sxs-lookup"><span data-stu-id="1561f-165">If this parameter includes spaces, it should be surrounded in double-quotes.</span></span>|
|<span data-ttu-id="1561f-166">-?</span><span class="sxs-lookup"><span data-stu-id="1561f-166">-?</span></span><br /><br /> <span data-ttu-id="1561f-167">-help</span><span class="sxs-lookup"><span data-stu-id="1561f-167">-help</span></span>|<span data-ttu-id="1561f-168">Exibe a mensagem de direitos autorais e Make-Shell opções de linha de comando.</span><span class="sxs-lookup"><span data-stu-id="1561f-168">Displays the copyright message and Make-Shell command line options.</span></span>|
|<span data-ttu-id="1561f-169">-verbose</span><span class="sxs-lookup"><span data-stu-id="1561f-169">-verbose</span></span>|<span data-ttu-id="1561f-170">Exibe informações detalhadas enquanto o Shell está sendo criado.</span><span class="sxs-lookup"><span data-stu-id="1561f-170">Displays detailed information while the shell is being created.</span></span>|

## <a name="see-also"></a><span data-ttu-id="1561f-171">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="1561f-171">See Also</span></span>

[<span data-ttu-id="1561f-172">Guia do programador do Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="1561f-172">Windows PowerShell Programmer's Guide</span></span>](./windows-powershell-programmer-s-guide.md)

[<span data-ttu-id="1561f-173">SDK do Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="1561f-173">Windows PowerShell SDK</span></span>](../windows-powershell-reference.md)
