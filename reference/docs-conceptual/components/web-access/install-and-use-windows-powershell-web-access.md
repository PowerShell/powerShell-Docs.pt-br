---
ms.date: 08/23/2017
keywords: powershell, cmdlet
title: instalar e usar o windows powershell web access
ms.openlocfilehash: 5f6e94859c55bbd07f3f8a83bc4b9a83bc89d0fa
ms.sourcegitcommit: a35450f420dc10a02379f6e6f08a28ad11fe5a6d
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/01/2019
ms.locfileid: "71692261"
---
# <a name="install-and-use-windows-powershell-web-access"></a><span data-ttu-id="f1d2f-103">Instalar e usar o Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="f1d2f-103">Install and Use Windows PowerShell Web Access</span></span>

<span data-ttu-id="f1d2f-104">Atualização: 5 de novembro de 2013 (editado: 23 de agosto de 2017)</span><span class="sxs-lookup"><span data-stu-id="f1d2f-104">Updated: November 5, 2013 (Edited: August 23, 2017)</span></span>

<span data-ttu-id="f1d2f-105">Aplica-se a: Windows Server 2012 R2, Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="f1d2f-105">Applies To: Windows Server 2012 R2, Windows Server 2012</span></span>

## <a name="introduction"></a><span data-ttu-id="f1d2f-106">Introdução</span><span class="sxs-lookup"><span data-stu-id="f1d2f-106">Introduction</span></span>

<span data-ttu-id="f1d2f-107">Introduzido pela primeira vez no Windows Server 2012, o Windows PowerShell Web Access age como um gateway do Windows PowerShell, oferecendo um console baseado na Web do Windows PowerShell destinado a um computador remoto.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-107">Windows PowerShell Web Access, first introduced in Windows Server 2012, acts as a Windows PowerShell gateway, providing a web-based Windows PowerShell console that is targeted at a remote computer.</span></span> <span data-ttu-id="f1d2f-108">Ele permite aos profissionais de TI executar comandos e scripts no console do Windows PowerShell em um navegador da Web, sem necessidade de instalar o Windows PowerShell, software de gerenciamento remoto ou plug-in de navegador no dispositivo cliente.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-108">It enables IT Pros to run Windows PowerShell commands and scripts from a Windows PowerShell console in a web browser, with no Windows PowerShell, remote management software, or browser plug-in installation necessary on the client device.</span></span> <span data-ttu-id="f1d2f-109">Para executar o console do Windows PowerShell baseado na Web, basta um gateway do Windows PowerShell Web Access devidamente configurado e um navegador de dispositivo cliente que dê suporte a JavaScript e aceite cookies.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-109">All that is required to run the web-based Windows PowerShell console is a properly-configured Windows PowerShell Web Access gateway, and a client device browser that supports JavaScript and accepts cookies.</span></span>

<span data-ttu-id="f1d2f-110">Exemplos de dispositivos clientes: laptops, computadores pessoais não usados para trabalho, computadores emprestados, tablets, quiosques Web, computadores que não executam sistemas operacionais baseados em Windows e navegadores de celulares.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-110">Examples of client devices include laptops, non-work personal computers, borrowed computers, tablet computers, web kiosks, computers that are not running a Windows-based operating system, and cell phone browsers.</span></span> <span data-ttu-id="f1d2f-111">Os profissionais de TI podem realizar tarefas essenciais de gerenciamento em servidores remotos baseados em Windows a partir de dispositivos com acesso a uma conexão com a Internet e um navegador da Web.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-111">IT Pros can perform critical management tasks on remote Windows-based servers from devices that have access to an Internet connection and a web browser.</span></span>

<span data-ttu-id="f1d2f-112">Depois de instalar e configurar o gateway com sucesso, os usuários podem acessar um console do Windows PowerShell usando um navegador da Web.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-112">After successful gateway setup and configuration, users can access a Windows PowerShell console by using a web browser.</span></span> <span data-ttu-id="f1d2f-113">Quando os usuários abrem o site seguro do Windows PowerShell Web Access, eles podem executar um console do Windows PowerShell baseado na Web após autenticação bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-113">When users open the secured Windows PowerShell Web Access website, they can run a web-based Windows PowerShell console after successful authentication.</span></span>

<span data-ttu-id="f1d2f-114">O processo de instalação e configuração do Windows PowerShell Web Access inclui três etapas:</span><span class="sxs-lookup"><span data-stu-id="f1d2f-114">Windows PowerShell Web Access setup and configuration is a three-step process:</span></span>

1. [<span data-ttu-id="f1d2f-115">Instalar o Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="f1d2f-115">Install Windows PowerShell Web Access</span></span>](#install-windows-powershell-web-access-using-powershell-cmdlets)
1. [<span data-ttu-id="f1d2f-116">Configurar o Gateway</span><span class="sxs-lookup"><span data-stu-id="f1d2f-116">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="f1d2f-117">Configurar uma regra de autorização restritiva</span><span class="sxs-lookup"><span data-stu-id="f1d2f-117">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

<span data-ttu-id="f1d2f-118">Antes de instalar e configurar o Windows PowerShell Web Access, recomendamos ler todo este guia, o qual inclui instruções sobre como instalar, proteger e desinstalar o Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-118">Before you install and configure Windows PowerShell Web Access, we recommend that you read this entire guide, which includes instructions about how to install, secure, and uninstall Windows PowerShell Web Access.</span></span> <span data-ttu-id="f1d2f-119">O tópico [Usar o console do Windows PowerShell baseado na Web](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) descreve como os usuários entram no console baseado na Web, além de abordar limitações e as diferenças entre o console do Windows PowerShell baseado na web e o console **powershell.exe**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-119">The [Use the Web-based Windows PowerShell Console](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) topic describes how users sign in to the web-based console, and covers limitations and differences between the web-based Windows PowerShell console and the **powershell.exe** console.</span></span> <span data-ttu-id="f1d2f-120">Os usuários finais do console baseado na Web devem ler o artigo [Usar o console do Windows PowerShell baseado na Web](use-the-web-based-windows-powershell-console.md), mas não precisam ler o restante desse guia.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-120">End users of the web-based console should read [Use the Web based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md), but do not need to read the rest of this guide.</span></span>

<span data-ttu-id="f1d2f-121">Este tópico não fornece diretrizes detalhadas de operações do Servidor Web IIS. Apenas as etapas necessárias para configurar o gateway do Windows PowerShell Web Access estão descritas neste tópico.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-121">This topic does not provide in-depth IIS Web Server operations guidance; only those steps required to configure the Windows PowerShell Web Access gateway are described in this topic.</span></span> <span data-ttu-id="f1d2f-122">Para obter mais informações sobre como configurar e proteger sites no IIS, consulte os recursos da documentação do IIS na seção Consulte também.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-122">For more information about configuring and securing websites in IIS, see the IIS documentation resources in the See Also section.</span></span>

<span data-ttu-id="f1d2f-123">O diagrama a seguir mostra como funciona o Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-123">The following diagram shows how Windows PowerShell Web Access works.</span></span>

![Diagrama do Acesso via Web do PowerShell](images/Windows-PowerShell-Web-Access-diagram.jpg)

## <a name="requirements-for-running-windows-powershell-web-access"></a><span data-ttu-id="f1d2f-125">Requisitos de execução do Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="f1d2f-125">Requirements for running Windows PowerShell Web Access</span></span>

<span data-ttu-id="f1d2f-126">O Windows PowerShell Web Access requer um servidor Web (IIS), .NET Framework 4.5 e o Windows PowerShell 3.0 ou Windows PowerShell 4.0 em execução no servidor no qual você deseja executar o gateway.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-126">Windows PowerShell Web Access requires Web Server (IIS), .NET Framework 4.5, and Windows PowerShell 3.0 or Windows PowerShell 4.0 to be running on the server on which you want to run the gateway.</span></span> <span data-ttu-id="f1d2f-127">Você pode instalar o Windows PowerShell Web Access em um servidor que está executando o Windows Server 2012 R2 ou o Windows Server 2012 usando o Assistente Adicionar Funções e Recursos no Gerenciador do Servidor ou cmdlets de implantação do Windows PowerShell para o Gerenciador do Servidor.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-127">You can install Windows PowerShell Web Access on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either the Add Roles and Features Wizard in Server Manager, or Windows PowerShell deployment cmdlets for Server Manager.</span></span> <span data-ttu-id="f1d2f-128">Quando você instala o Windows PowerShell Web Access usando o Gerenciador do Servidor ou seus cmdlets de implantação, as funções e os recursos necessários são automaticamente adicionados como parte do processo de instalação.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-128">When you install Windows PowerShell Web Access by using Server Manager or its deployment cmdlets, required roles and features are automatically added as part of the installation process.</span></span>

<span data-ttu-id="f1d2f-129">O Windows PowerShell Web Access permite que usuários remotos acessem computadores em sua organização usando o Windows PowerShell em um navegador da Web.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-129">Windows PowerShell Web Access allows remote users to access computers in your organization by using Windows PowerShell in a web browser.</span></span> <span data-ttu-id="f1d2f-130">Embora o Windows PowerShell Web Access seja uma ferramenta de gerenciamento avançada e conveniente, o acesso baseado na Web impõe riscos à segurança e deve ser configurado da maneira mais segura possível.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-130">Although Windows PowerShell Web Access is a convenient and powerful management tool, the web-based access poses security risks, and should be configured as securely as possible.</span></span> <span data-ttu-id="f1d2f-131">Recomendamos que os administradores que configuram o gateway do Windows PowerShell Web Access usem as camadas de segurança disponíveis, as regras de autorização baseadas em cmdlets incluídas no Windows PowerShell Web Access e as camadas de segurança disponíveis no Servidor Web (IIS) e em aplicativos de terceiros.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-131">We recommend that administrators who configure the Windows PowerShell Web Access gateway use available security layers, both the cmdlet-based authorization rules included with Windows PowerShell Web Access, and security layers that are available in Web Server (IIS) and third-party applications.</span></span> <span data-ttu-id="f1d2f-132">Esta documentação inclui exemplos desprotegidos, recomendados apenas para ambientes de teste, além de exemplos recomendados para implantações seguras.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-132">This documentation includes both unsecure examples that are only recommended for test environments, as well as examples that are recommended for secure deployments.</span></span>

## <a name="browser-and-client-device-support"></a><span data-ttu-id="f1d2f-133">Suporte a navegadores e dispositivos clientes</span><span class="sxs-lookup"><span data-stu-id="f1d2f-133">Browser and client device support</span></span>

<span data-ttu-id="f1d2f-134">O Windows PowerShell Web Access dá suporte aos seguintes navegadores da Internet.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-134">Windows PowerShell Web Access supports the following Internet browsers.</span></span> <span data-ttu-id="f1d2f-135">Embora navegadores móveis não tenham suporte oficialmente, muitos poderão executar o console do Windows PowerShell baseado na Web.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-135">Although mobile browsers are not officially supported, many may be able to run the web-based Windows PowerShell console.</span></span>
<span data-ttu-id="f1d2f-136">É provável que outros navegadores que aceitam cookies, executam JavaScript e abrem sites HTTPS funcionam, mas não foram oficialmente testados.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-136">Other browsers that accept cookies, run JavaScript, and run HTTPS websites are expected to work, but are not officially tested.</span></span>

### <a name="supported-desktop-computer-browsers"></a><span data-ttu-id="f1d2f-137">Navegadores de desktop compatíveis</span><span class="sxs-lookup"><span data-stu-id="f1d2f-137">Supported desktop computer browsers</span></span>

- <span data-ttu-id="f1d2f-138">Windows Internet Explorer para Microsoft Windows 8.0, 9.0, 10.0 e 11.0</span><span class="sxs-lookup"><span data-stu-id="f1d2f-138">Windows Internet Explorer for Microsoft Windows 8.0, 9.0, 10.0, and 11.0</span></span>
- <span data-ttu-id="f1d2f-139">Mozilla Firefox 10.0.2</span><span class="sxs-lookup"><span data-stu-id="f1d2f-139">Mozilla Firefox 10.0.2</span></span>
- <span data-ttu-id="f1d2f-140">Google Chrome 17.0.963.56m para Windows</span><span class="sxs-lookup"><span data-stu-id="f1d2f-140">Google Chrome 17.0.963.56m for Windows</span></span>
- <span data-ttu-id="f1d2f-141">Apple Safari 5.1.2 para Windows</span><span class="sxs-lookup"><span data-stu-id="f1d2f-141">Apple Safari 5.1.2 for Windows</span></span>
- <span data-ttu-id="f1d2f-142">Apple Safari 5.1.2 para Mac OS</span><span class="sxs-lookup"><span data-stu-id="f1d2f-142">Apple Safari 5.1.2 for Mac OS</span></span>

### <a name="minimally-tested-mobile-devices-or-browsers"></a><span data-ttu-id="f1d2f-143">Dispositivos ou navegadores móveis minimamente testados</span><span class="sxs-lookup"><span data-stu-id="f1d2f-143">Minimally-tested mobile devices or browsers</span></span>

- <span data-ttu-id="f1d2f-144">Windows Phone 7 e 7.5</span><span class="sxs-lookup"><span data-stu-id="f1d2f-144">Windows Phone 7 and 7.5</span></span>
- <span data-ttu-id="f1d2f-145">Navegador Google Android WebKit 3.1 para Android 2.2.1 (Kernel 2.6)</span><span class="sxs-lookup"><span data-stu-id="f1d2f-145">Google Android WebKit 3.1 Browser Android 2.2.1 (Kernel 2.6)</span></span>
- <span data-ttu-id="f1d2f-146">Apple Safari para iPhone com sistema operacional 5.0.1</span><span class="sxs-lookup"><span data-stu-id="f1d2f-146">Apple Safari for iPhone operating system 5.0.1</span></span>
- <span data-ttu-id="f1d2f-147">Apple Safari para iPad 2 com sistema operacional 5.0.1</span><span class="sxs-lookup"><span data-stu-id="f1d2f-147">Apple Safari for iPad 2 operating system 5.0.1</span></span>

### <a name="browser-requirements"></a><span data-ttu-id="f1d2f-148">Requisitos de navegador</span><span class="sxs-lookup"><span data-stu-id="f1d2f-148">Browser requirements</span></span>

<span data-ttu-id="f1d2f-149">Para usar o console do Windows PowerShell Web Access baseado na Web, os navegadores devem executar os procedimentos a seguir.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-149">To use the Windows PowerShell Web Access web-based console, browsers must do the following.</span></span>

- <span data-ttu-id="f1d2f-150">Permitir cookies do site do gateway do Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-150">Allow cookies from the Windows PowerShell Web Access gateway website.</span></span>
- <span data-ttu-id="f1d2f-151">Ser capazes de abrir e ler páginas HTTPS.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-151">Be able to open and read HTTPS pages.</span></span>
- <span data-ttu-id="f1d2f-152">Abrir e executar sites que usam JavaScript.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-152">Open and run websites that use JavaScript.</span></span>

## <a name="recommended-quick-deployment"></a><span data-ttu-id="f1d2f-153">Implantação rápida recomendada</span><span class="sxs-lookup"><span data-stu-id="f1d2f-153">Recommended quick deployment</span></span>

<span data-ttu-id="f1d2f-154">Você pode instalar o gateway do Windows PowerShell Web Access em um servidor que está executando o Windows Server 2012 R2 ou o Windows Server 2012 usando o cmdlets do Windows PowerShell ou o assistente Adicionar Funções e Recursos que é aberto no Gerenciador do Servidor.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-154">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either Windows PowerShell cmdlets, or by using the Add Roles and Features Wizard that is opened from within Server Manager.</span></span> <span data-ttu-id="f1d2f-155">Para rápida instalação e configuração, use os cmdlets do Windows PowerShell, conforme descrito nesta seção.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-155">For quick installation and configuration, use Windows PowerShell cmdlets, as described in this section.</span></span>

1. [<span data-ttu-id="f1d2f-156">Instalar o Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="f1d2f-156">Install Windows PowerShell Web Access</span></span>](#install-windows-powershell-web-access-using-powershell-cmdlets)
1. [<span data-ttu-id="f1d2f-157">Configurar o Gateway</span><span class="sxs-lookup"><span data-stu-id="f1d2f-157">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="f1d2f-158">Configurar uma regra de autorização restritiva</span><span class="sxs-lookup"><span data-stu-id="f1d2f-158">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

### <a name="install-windows-powershell-web-access-using-powershell-cmdlets"></a><span data-ttu-id="f1d2f-159">Instalar o Windows PowerShell Web Access usando cmdlets do PowerShell</span><span class="sxs-lookup"><span data-stu-id="f1d2f-159">Install Windows PowerShell Web Access using PowerShell cmdlets</span></span>

#### <a name="to-install-windows-powershell-web-access-by-using-windows-powershell-cmdlets"></a><span data-ttu-id="f1d2f-160">Para instalar o Windows PowerShell Web Access usando cmdlets do Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="f1d2f-160">To install Windows PowerShell Web Access by using Windows PowerShell cmdlets</span></span>

1. <span data-ttu-id="f1d2f-161">Execute uma das ações a seguir para abrir uma sessão do Windows PowerShell com direitos de usuário elevados.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-161">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="f1d2f-162">Na área de trabalho do Windows, clique com o botão direito do mouse em **Windows PowerShell** na barra de tarefas e clique em **Executar como Administrador**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-162">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="f1d2f-163">Na tela **Iniciar** do Windows, clique com o botão direito do mouse em **Windows PowerShell** e clique em **Executar como Administrador**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-163">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="f1d2f-164">No Windows PowerShell 3.0 e 4.0, não é preciso importar o módulo de cmdlet do Gerenciador do Servidor para a sessão do Windows PowerShell antes de executar os cmdlets que fazem parte do módulo.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-164">In Windows PowerShell 3.0 and 4.0, there is no need to import the Server Manager cmdlet module into the Windows PowerShell session before running cmdlets that are part of the module.</span></span> <span data-ttu-id="f1d2f-165">Um módulo é importado automaticamente durante a primeira execução de um cmdlet que faça parte do módulo.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-165">A module is automatically imported the first time you run a cmdlet that is part of the module.</span></span>
   > <span data-ttu-id="f1d2f-166">Além disso, os cmdlets do Windows PowerShell não diferenciam maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-166">Also, Windows PowerShell cmdlets are not case-sensitive.</span></span>

1. <span data-ttu-id="f1d2f-167">Digite o seguinte e pressione **Enter**, em que *computer_name* representa um computador remoto no qual você deseja instalar o Windows PowerShell Web Access, se aplicável.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-167">Type the following, and then press **Enter**, where *computer_name* represents a remote computer on which you want to install Windows PowerShell Web Access, if applicable.</span></span> <span data-ttu-id="f1d2f-168">O parâmetro `-Restart` reinicia automaticamente os servidores de destino, se necessário.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-168">The `-Restart` parameter automatically restarts destination servers if required.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -ComputerName <computer_name> -IncludeManagementTools -Restart`

   > [!NOTE]
   > <span data-ttu-id="f1d2f-169">A instalação do Windows PowerShell Web Access usando cmdlets do Windows PowerShell não adiciona ferramentas de gerenciamento do Servidor Web (IIS) por padrão.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-169">Installing Windows PowerShell Web Access by using Windows PowerShell cmdlets does not add Web Server (IIS) management tools by default.</span></span> <span data-ttu-id="f1d2f-170">Se você deseja instalar as ferramentas de gerenciamento no mesmo servidor que o gateway do Windows PowerShell Web Access, adicione o parâmetro `-IncludeManagementTools` ao comando de instalação (como fornecido nesta etapa).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-170">If you want to install the management tools on the same server as the Windows PowerShell Web Access gateway, add the `-IncludeManagementTools` parameter to the installation command (as provided in this step).</span></span> <span data-ttu-id="f1d2f-171">Se você estiver gerenciando o site do Windows PowerShell Web Access de um computador remoto, instale o snap-in Gerenciador do IIS ao instalar as [Ferramentas de Administração de Servidor Remoto do Windows 8.1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) ou as [Ferramentas de Administração de Servidor Remoto para Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) no computador do qual você quer gerenciar o gateway.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-171">If you are managing the Windows PowerShell Web Access website from a remote computer, install the IIS Manager snap-in by installing [Remote Server Administration Tools for Windows 8.1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) or [Remote Server Administration Tools for Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) on the computer from which you want to manage the gateway.</span></span>

   <span data-ttu-id="f1d2f-172">Para instalar funções e recursos em um VHD offline, adicione os parâmetros `-ComputerName` e `-VHD` .</span><span class="sxs-lookup"><span data-stu-id="f1d2f-172">To install roles and features on an offline VHD, you must add both the `-ComputerName` parameter and the `-VHD` parameter.</span></span> <span data-ttu-id="f1d2f-173">O parâmetro `-ComputerName` contém o nome do servidor em que será montado o VHD, e o parâmetro `-VHD` contém o caminho para o arquivo VHD no servidor especificado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-173">The `-ComputerName` parameter contains the name of the server on which to mount the VHD, and the `-VHD` parameter contains the path to the VHD file on the specified server.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -VHD <path> -ComputerName <computer_name> -IncludeManagementTools -Restart`

1. <span data-ttu-id="f1d2f-174">Quando a instalação for concluída, verifique se o Windows PowerShell Web Access foi instalado nos servidores de destino executando o cmdlet `Get-WindowsFeature` em um servidor de destino, em um console do Windows PowerShell que foi aberto com direitos do usuário elevados.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-174">When installation is complete, verify that Windows PowerShell Web Access was installed on destination servers by running the `Get-WindowsFeature` cmdlet on a destination server, in a Windows PowerShell console that has been opened with elevated user rights.</span></span> <span data-ttu-id="f1d2f-175">Também será possível verificar se o Windows PowerShell Web Access foi instalado no console do Gerenciador do Servidor, selecionando um servidor de destino na página **Todos os Servidores** e exibindo o bloco **Funções e Recursos** do servidor selecionado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-175">You can also verify that Windows PowerShell Web Access was installed in the Server Manager console, by selecting a destination server on the **All Servers** page, and then viewing the **Roles and Features** tile for the selected server.</span></span> <span data-ttu-id="f1d2f-176">Você também pode exibir o arquivo Leiame para o Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-176">You can also view the readme file for Windows PowerShell Web Access.</span></span>

1. <span data-ttu-id="f1d2f-177">Após a instalação do Windows PowerShell Web Access, você será solicitado a examinar o arquivo Leiame, que contém instruções de configuração básicas e necessárias para o gateway.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-177">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="f1d2f-178">Essas instruções de instalação também estão na seção a seguir, [Configurar o Gateway](#configure-the-gateway).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-178">These setup instructions are also in the following section, [Configure the Gateway](#configure-the-gateway).</span></span> <span data-ttu-id="f1d2f-179">O caminho para o arquivo Leiame é `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-179">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="f1d2f-180">Configurar o Gateway</span><span class="sxs-lookup"><span data-stu-id="f1d2f-180">Configure the Gateway</span></span>

<span data-ttu-id="f1d2f-181">O cmdlet **Install-PswaWebApplication** é uma maneira rápida de configurar o Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-181">The **Install-PswaWebApplication** cmdlet is a quick way to get Windows PowerShell Web Access configured.</span></span> <span data-ttu-id="f1d2f-182">Embora seja possível adicionar o parâmetro `UseTestCertificate` ao cmdlet `Install-PswaWebApplication` para instalar um certificado SSL autoassinado para fins de teste, isso não é seguro. Para um ambiente de produção seguro, sempre use um certificado SSL válido assinado por uma AC (autoridade de certificação).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-182">Although you can add the `UseTestCertificate` parameter to the `Install-PswaWebApplication` cmdlet to install a self-signed SSL certificate for test purposes, this is not secure; for a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span> <span data-ttu-id="f1d2f-183">Os administradores podem substituir o certificado de teste por um certificado assinado de sua preferência usando o console do Gerenciador do IIS.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-183">Administrators can replace the test certificate with a signed certificate of their choice by using the IIS Manager console.</span></span>

<span data-ttu-id="f1d2f-184">Você pode concluir a configuração do aplicativo Web Windows PowerShell Web Access executando o cmdlet `Install-PswaWebApplication` ou seguindo as etapas de configuração baseadas em GUI no Gerenciador do IIS.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-184">You can complete Windows PowerShell Web Access web application configuration either by running the `Install-PswaWebApplication` cmdlet or by performing GUI-based configuration steps in IIS Manager.</span></span>
<span data-ttu-id="f1d2f-185">Por padrão, o cmdlet instala o aplicativo Web, o **pswa** (e um pool de aplicativos para ele, **pswa_pool**), no contêiner **Site Padrão**, como mostrado no Gerenciador do IIS. Se quiser, você poderá instruir o cmdlet a alterar o contêiner do site padrão do aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-185">By default, the cmdlet installs the web application, **pswa** (and an application pool for it, **pswa_pool**), in the **Default Web Site** container, as shown in IIS Manager; if desired, you can instruct the cmdlet to change the default site container of the web application.</span></span> <span data-ttu-id="f1d2f-186">O Gerenciador do IIS oferece opções de configuração disponíveis para aplicativos Web, como alteração do número da porta ou do certificado SSL (Secure Sockets Layer).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-186">IIS Manager offers configuration options that are available for web applications, such as changing the port number or the Secure Sockets Layer (SSL) certificate.</span></span>

> <span data-ttu-id="f1d2f-187">**![Nota de Segurança](images/securitynote.jpeg) Nota de Segurança** Recomendamos enfaticamente que os administradores configurem o gateway para usar um certificado válido assinado por uma CA.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-187">**![Security Note](images/securitynote.jpeg) Security Note** We strongly recommend that administrators configure the gateway to use a valid certificate that has been signed by a CA.</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-test-certificate-by-using-install-pswawebapplication"></a><span data-ttu-id="f1d2f-188">Para configurar o gateway do Windows PowerShell Web Access com um certificado de teste usando Install-PswaWebApplication</span><span class="sxs-lookup"><span data-stu-id="f1d2f-188">To configure the Windows PowerShell Web Access gateway with a test certificate by using Install-PswaWebApplication</span></span>

1. <span data-ttu-id="f1d2f-189">Execute uma das ações a seguir para abrir uma sessão do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-189">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="f1d2f-190">Na área de trabalho do Windows, clique com o botão direito do mouse em **Windows PowerShell** na barra de tarefas.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-190">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>
   - <span data-ttu-id="f1d2f-191">Na tela **Iniciar** , clique em **Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-191">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="f1d2f-192">Digite o seguinte e pressione **Enter**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-192">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication -UseTestCertificate`

   > <span data-ttu-id="f1d2f-193">**![Nota de Segurança](images/securitynote.jpeg) Nota de Segurança** O parâmetro `UseTestCertificate` só deve ser usado em um ambiente de teste privado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-193">**![Security Note](images/securitynote.jpeg) Security Note** The `UseTestCertificate` parameter should only be used in a private test environment.</span></span> <span data-ttu-id="f1d2f-194">Para um ambiente de produção seguro, recomendamos usar um certificado válido assinado por uma AC.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-194">For a secure production environment, we recommend using a valid certificate that has been signed by a CA.</span></span>

   <span data-ttu-id="f1d2f-195">Quando o cmdlet é executado, o aplicativo web Windows PowerShell Web Access é instalado no contêiner Site Padrão do IIS.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-195">Running the cmdlet installs the Windows PowerShell Web Access web application within the IIS Default Web Site container.</span></span> <span data-ttu-id="f1d2f-196">O cmdlet cria a infraestrutura necessária para executar o Windows PowerShell Web Access no site padrão, `https://<server_name>/pswa`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-196">The cmdlet creates the infrastructure required to run Windows PowerShell Web Access on the default website, `https://<server_name>/pswa`.</span></span> <span data-ttu-id="f1d2f-197">Para instalar o aplicativo Web em outro site, forneça o nome do site adicionando o parâmetro `WebSiteName` .</span><span class="sxs-lookup"><span data-stu-id="f1d2f-197">To install the web application in a different website, provide the website name by adding the `WebSiteName` parameter.</span></span> <span data-ttu-id="f1d2f-198">Para alterar o nome do aplicativo Web (o padrão é `pswa`), adicione o parâmetro `WebApplicationName` .</span><span class="sxs-lookup"><span data-stu-id="f1d2f-198">To change the name of the web application (the default is `pswa`), add the `WebApplicationName` parameter.</span></span>

   <span data-ttu-id="f1d2f-199">As configurações a seguir são feitas executando o cmdlet.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-199">The following settings are configured by running the cmdlet.</span></span> <span data-ttu-id="f1d2f-200">Você pode alterá-las manualmente no console do Gerenciador do IIS, se desejado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-200">You can change these manually in the IIS Manager console, if desired.</span></span>

   - <span data-ttu-id="f1d2f-201">Caminho: /pswa</span><span class="sxs-lookup"><span data-stu-id="f1d2f-201">Path: /pswa</span></span>
   - <span data-ttu-id="f1d2f-202">ApplicationPool: pswa_pool</span><span class="sxs-lookup"><span data-stu-id="f1d2f-202">ApplicationPool: pswa_pool</span></span>
   - <span data-ttu-id="f1d2f-203">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="f1d2f-203">EnabledProtocols: http</span></span>
   - <span data-ttu-id="f1d2f-204">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span><span class="sxs-lookup"><span data-stu-id="f1d2f-204">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span></span>

   <span data-ttu-id="f1d2f-205">**Exemplo**: `Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span><span class="sxs-lookup"><span data-stu-id="f1d2f-205">**Example**: `Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span></span>

   <span data-ttu-id="f1d2f-206">Neste exemplo, o site resultante do Windows PowerShell Web Access é `https://<server_name>/myWebApp`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-206">In this example, the resulting website for Windows PowerShell Web Access is `https://<server_name>/myWebApp`.</span></span>

   > [!NOTE]
   > <span data-ttu-id="f1d2f-207">Você não poderá fazer logon até que todos os usuários tenham obtido acesso ao site adicionando regras de autorização.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-207">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="f1d2f-208">Para obter mais informações, consulte [Configurar uma regra de autorização restritiva](#configure-a-restrictive-authorization-rule) e [Regras de autorização e recursos de segurança do Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-208">For more information, see [configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule) and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-genuine-certificate-by-using-install-pswawebapplication-and-iis-manager"></a><span data-ttu-id="f1d2f-209">Para configurar o gateway do Windows PowerShell Web Access com um certificado original usando o Install-PswaWebApplication e o Gerenciador do IIS</span><span class="sxs-lookup"><span data-stu-id="f1d2f-209">To configure the Windows PowerShell Web Access gateway with a genuine certificate by using Install-PswaWebApplication and IIS Manager</span></span>

1. <span data-ttu-id="f1d2f-210">Execute uma das ações a seguir para abrir uma sessão do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-210">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="f1d2f-211">Na área de trabalho do Windows, clique com o botão direito do mouse em **Windows PowerShell** na barra de tarefas.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-211">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>
   - <span data-ttu-id="f1d2f-212">Na tela **Iniciar** , clique em **Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-212">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="f1d2f-213">Digite o seguinte e pressione **Enter**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-213">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication`

   <span data-ttu-id="f1d2f-214">As configurações de gateway a seguir são feitas executando o cmdlet.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-214">The following gateway settings are configured by running the cmdlet.</span></span> <span data-ttu-id="f1d2f-215">Você pode alterá-las manualmente no console do Gerenciador do IIS, se desejado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-215">You can change these manually in the IIS Manager console, if desired.</span></span> <span data-ttu-id="f1d2f-216">Também é possível especificar valores para os parâmetros `WebsiteName` e `WebApplicationName` do cmdlet `Install-PswaWebApplication` .</span><span class="sxs-lookup"><span data-stu-id="f1d2f-216">You can also specify values for the `WebsiteName` and `WebApplicationName` parameters of the `Install-PswaWebApplication` cmdlet.</span></span>

   - <span data-ttu-id="f1d2f-217">Caminho: /pswa</span><span class="sxs-lookup"><span data-stu-id="f1d2f-217">Path: /pswa</span></span>
   - <span data-ttu-id="f1d2f-218">ApplicationPool: pswa_pool</span><span class="sxs-lookup"><span data-stu-id="f1d2f-218">ApplicationPool: pswa_pool</span></span>
   - <span data-ttu-id="f1d2f-219">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="f1d2f-219">EnabledProtocols: http</span></span>
   - <span data-ttu-id="f1d2f-220">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span><span class="sxs-lookup"><span data-stu-id="f1d2f-220">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span></span>

3. <span data-ttu-id="f1d2f-221">Abra o console do Gerenciador do IIS seguindo um destes procedimentos.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-221">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="f1d2f-222">Na área de trabalho do Windows, inicie o Gerenciador do Servidor clicando em **Gerenciador do Servidor** na barra de tarefas do Windows.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-222">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="f1d2f-223">No menu **Ferramentas** no Gerenciador do Servidor, clique em **Gerenciador do IIS (Serviços de Informações da Internet)** .</span><span class="sxs-lookup"><span data-stu-id="f1d2f-223">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="f1d2f-224">Na tela **Iniciar** do Windows, clique em **Gerenciador do Servidor**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-224">On the Windows **Start** screen, click **Server Manager**.</span></span>

4. <span data-ttu-id="f1d2f-225">No painel de árvore do Gerenciador do IIS, expanda o nó do servidor no qual o Windows PowerShell Web Access está instalado até que a pasta **Sites** fique visível.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-225">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="f1d2f-226">Expanda a pasta **Sites**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-226">Expand the **Sites** folder.</span></span>

5. <span data-ttu-id="f1d2f-227">Selecione o site no qual você instalou o aplicativo Web Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-227">Select the website in which you have installed the Windows PowerShell Web Access web application.</span></span>
   <span data-ttu-id="f1d2f-228">No painel **Ações**, clique em **Associações**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-228">In the **Actions** pane, click **Bindings**.</span></span>

6. <span data-ttu-id="f1d2f-229">Na caixa de diálogo **Associação do Site**, clique em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-229">In the **Site Binding** dialog box, click **Add**.</span></span>

7. <span data-ttu-id="f1d2f-230">Na caixa de diálogo **Adicionar Associação do Site**, no campo **Tipo**, escolha **https**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-230">In the **Add Site Binding** dialog box, in the **Type** field, select **https**.</span></span>

8. <span data-ttu-id="f1d2f-231">No campo **Certificado SSL**, selecione o certificado assinado no menu suspenso.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-231">In the **SSL certificate** field, select your signed certificate from the drop-down menu.</span></span>
   <span data-ttu-id="f1d2f-232">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-232">Click **OK**.</span></span> <span data-ttu-id="f1d2f-233">Consulte [Para configurar um certificado SSL no Gerenciador do IIS](#to-configure-an-ssl-certificate-in-iis-manager) neste tópico para obter mais informações sobre como obter um certificado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-233">See [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic for more information about how to obtain a certificate.</span></span>

   <span data-ttu-id="f1d2f-234">O aplicativo web Windows PowerShell Web Access agora está configurado para usar seu certificado SSL assinado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-234">The Windows PowerShell Web Access web application is now configured to use your signed SSL certificate.</span></span>

   <span data-ttu-id="f1d2f-235">Você pode acessar o Windows PowerShell Web Access abrindo `https://<server_name>/pswa` em uma janela do navegador.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-235">You can access Windows PowerShell Web Access by opening `https://<server_name>/pswa` in a browser window.</span></span>

   > [!NOTE]
   > <span data-ttu-id="f1d2f-236">Você não poderá fazer logon até que todos os usuários tenham obtido acesso ao site adicionando regras de autorização.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-236">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="f1d2f-237">Para obter mais informações, consulte [Configurar uma regra de autorização restritiva](#configure-a-restrictive-authorization-rule), neste tópico, e [Regras de autorização e recursos de segurança do Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-237">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configure-a-restrictive-authorization-rule"></a><span data-ttu-id="f1d2f-238">Configurar uma regra de autorização restritiva</span><span class="sxs-lookup"><span data-stu-id="f1d2f-238">Configure a restrictive authorization rule</span></span>

<span data-ttu-id="f1d2f-239">Depois que o Windows PowerShell Web Access for instalado e o gateway configurado, os usuários poderão abrir a página de entrada em um navegador, mas só poderão entrar depois que o administrador do Windows PowerShell Web Access conceder a eles acesso explicitamente.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-239">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="f1d2f-240">O controle de acesso do Windows PowerShell Web Access é gerenciado por meio de um conjunto de cmdlets do Windows PowerShell descritos na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-240">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="f1d2f-241">Não há uma GUI comparável para adicionar ou gerenciar regras de autorização.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-241">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="f1d2f-242">Para saber mais sobre os cmdlets do Windows PowerShell Web Access, confira os tópicos de referência de cmdlet [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps) (Cmdlets do Windows PowerShell Web Access).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-242">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span></span>

<span data-ttu-id="f1d2f-243">Para obter mais detalhes sobre as regras e a segurança de autorização do Windows PowerShell Web Access, confira [Authorization Rules and Security Features of Windows PowerShell Web Access (Recursos de segurança e regras de autorização do Windows PowerShell Web Access)](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-243">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-add-a-restrictive-authorization-rule"></a><span data-ttu-id="f1d2f-244">Para adicionar uma regra de autorização restritiva</span><span class="sxs-lookup"><span data-stu-id="f1d2f-244">To add a restrictive authorization rule</span></span>

1. <span data-ttu-id="f1d2f-245">Execute uma das ações a seguir para abrir uma sessão do Windows PowerShell com direitos de usuário elevados.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-245">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="f1d2f-246">Na área de trabalho do Windows, clique com o botão direito do mouse em **Windows PowerShell** na barra de tarefas e clique em **Executar como Administrador**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-246">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="f1d2f-247">Na tela **Iniciar** do Windows, clique com o botão direito do mouse em **Windows PowerShell** e clique em **Executar como Administrador**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-247">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

2. <span data-ttu-id="f1d2f-248">Etapa opcional para restringir o acesso de usuários usando as configurações de sessão: verifique se já existem as configurações de sessão que você deseja usar em suas regras.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-248">Optional step for restricting user access by using session configurations: Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="f1d2f-249">Se elas ainda não foram criadas, siga as instruções de como criar configurações de sessão em [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-249">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

3. <span data-ttu-id="f1d2f-250">Digite o seguinte e pressione **Enter**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-250">Type the following, and then press **Enter**.</span></span>

   `Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>`

   <span data-ttu-id="f1d2f-251">Essa regra de autorização permite que um usuário específico acesse um computador na rede ao qual tipicamente tem acesso, com acesso a uma configuração de sessão específica, voltada para suas necessidades típicas de script e cmdlet.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-251">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user's typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="f1d2f-252">No exemplo a seguir, um usuário nomeado `JSmith` no domínio `Contoso` ganha acesso para gerenciar o computador `Contoso_214`e usa uma configuração de sessão nomeada `NewAdminsOnly`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-252">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   `Add-PswaAuthorizationRule -UserName Contoso\JSmith -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly`

4. <span data-ttu-id="f1d2f-253">Verifique se a regra foi criada executando o cmdlet `Get-PswaAuthorizationRule` ou `Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`</span><span class="sxs-lookup"><span data-stu-id="f1d2f-253">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`</span></span>

   <span data-ttu-id="f1d2f-254">Por exemplo, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-254">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

<span data-ttu-id="f1d2f-255">Depois de configurar uma regra de autorização, você está pronto para que os usuários autorizados entrem no console baseado na web e comecem a usar o Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-255">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="custom-deployment"></a><span data-ttu-id="f1d2f-256">Implantação personalizada</span><span class="sxs-lookup"><span data-stu-id="f1d2f-256">Custom deployment</span></span>

<span data-ttu-id="f1d2f-257">Você pode instalar o gateway do Windows PowerShell Web Access em um servidor que está executando o Windows Server 2012 R2 ou o Windows Server 2012 usando o assistente Adicionar Funções e Recursos no Gerenciador do Servidor.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-257">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using the Add Roles and Features Wizard in Server Manager.</span></span>
<span data-ttu-id="f1d2f-258">Depois de instalar o Windows PowerShell Web Access, você pode personalizar a configuração do gateway no Gerenciador do IIS.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-258">After Windows PowerShell Web Access is installed, you can customize the configuration of the gateway in IIS Manager.</span></span>

### <a name="install-windows-powershell-web-access-using-the-add-roles-and-features-wizard"></a><span data-ttu-id="f1d2f-259">Instalar o Windows PowerShell Web Access usando o Assistente para Adicionar Funções e Recursos</span><span class="sxs-lookup"><span data-stu-id="f1d2f-259">Install Windows PowerShell Web Access using the Add Roles and Features Wizard</span></span>

1. <span data-ttu-id="f1d2f-260">Se o Gerenciador do Servidor já estiver aberto, vá para a etapa seguinte.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-260">If Server Manager is already open, go on to the next step.</span></span> <span data-ttu-id="f1d2f-261">Se o Gerenciador do Servidor ainda não estiver aberto, abra-o de uma das maneiras a seguir.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-261">If Server Manager is not already open, open it by doing one of the following.</span></span>

   - <span data-ttu-id="f1d2f-262">Na área de trabalho do Windows, inicie o Gerenciador do Servidor clicando em **Gerenciador do Servidor** na barra de tarefas do Windows.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-262">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span>
   - <span data-ttu-id="f1d2f-263">Na tela **Iniciar** do Windows, clique em **Gerenciador do Servidor**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-263">On the Windows **Start** screen, click **Server Manager**.</span></span>

2. <span data-ttu-id="f1d2f-264">No menu **Gerenciar**, clique em **Adicionar Funções e Recursos**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-264">On the **Manage** menu, click **Add Roles and Features**.</span></span>

3. <span data-ttu-id="f1d2f-265">Na página **Selecionar tipo de instalação**, selecione **Instalação baseada em função ou recurso**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-265">On the **Select installation type** page, select **Role-based or feature-based installation**.</span></span>
   <span data-ttu-id="f1d2f-266">Clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-266">Click **Next**.</span></span>

4. <span data-ttu-id="f1d2f-267">Na página **Selecionar servidor de destino**, escolha um servidor no pool de servidores ou um VHD offline.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-267">On the **Select destination server** page, select a server from the server pool, or select an offline VHD.</span></span> <span data-ttu-id="f1d2f-268">Para selecionar um VHD offline como servidor de destino, primeiro selecione o servidor no qual deseja montar o VHD e selecione o arquivo VHD.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-268">To select an offline VHD as your destination server, first select the server on which to mount the VHD, and then select the VHD file.</span></span> <span data-ttu-id="f1d2f-269">Para obter informações sobre como adicionar servidores ao pool de servidores, consulte a Ajuda do Gerenciador do Servidor.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-269">For information about how to add servers to your server pool, see the Server Manager Help.</span></span> <span data-ttu-id="f1d2f-270">Após selecionar o servidor de destino, clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-270">After you have selected the destination server, click **Next**.</span></span>

5. <span data-ttu-id="f1d2f-271">Na página **Selecionar recursos** do assistente, expanda **Windows PowerShell** e escolha **Windows PowerShell Web Access**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-271">On the **Select features** page of the wizard, expand **Windows PowerShell**, and then select **Windows PowerShell Web Access**.</span></span>

6. <span data-ttu-id="f1d2f-272">O sistema solicitará a adição dos recursos obrigatórios, como o .NET Framework 4.5 e os serviços de função do Servidor Web (IIS).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-272">Note that you are prompted to add required features, such as .NET Framework 4.5, and role services of Web Server (IIS).</span></span> <span data-ttu-id="f1d2f-273">Adicione os recursos obrigatórios e continue.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-273">Add required features and continue.</span></span>

   > [!NOTE]
   > <span data-ttu-id="f1d2f-274">A instalação do Windows PowerShell Web Access usando o assistente Adicionar Funções e Recursos também instala o servidor Web (IIS), incluindo o snap-in Gerenciador do IIS.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-274">Installing Windows PowerShell Web Access by using the Add Roles and Features Wizard also installs Web Server (IIS), including the IIS Manager snap-in.</span></span> <span data-ttu-id="f1d2f-275">O snap-in e outras ferramentas de gerenciamento do IIS são instalados por padrão quando o assistente Adicionar Funções e Recursos é usado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-275">The snap-in and other IIS management tools are installed by default if you use Add Roles and Features Wizard.</span></span> <span data-ttu-id="f1d2f-276">Se você instalar o Windows PowerShell Web Access usando cmdlets do Windows PowerShell, como descrito no procedimento a seguir, as ferramentas de gerenciamento não serão adicionadas por padrão.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-276">If you install Windows PowerShell Web Access by using Windows PowerShell cmdlets as described in the following procedure, management tools are not added by default.</span></span>

7. <span data-ttu-id="f1d2f-277">Na página **Confirmar seleções de instalação**, se os arquivos de recursos do Windows PowerShell Web Access não estiverem armazenados no servidor de destino selecionado na etapa 4, clique em **Especificar um caminho de origem alternativo** e forneça o caminho para os arquivos de recursos.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-277">On the **Confirm installation selections** page, if the feature files for Windows PowerShell Web Access are not stored on the destination server that you selected in step 4, click **Specify an alternate source path**, and provide the path to the feature files.</span></span> <span data-ttu-id="f1d2f-278">Caso contrário, clique em **Instalar**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-278">Otherwise, click **Install**.</span></span>

8. <span data-ttu-id="f1d2f-279">Depois que você clicar em **Instalar**, a página **Progresso da instalação** exibirá o progresso, os resultados e mensagens da instalação, como avisos, falhas ou as etapas de configuração pós-instalação necessárias ao Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-279">After you click **Install**, the **Installation progress** page displays installation progress, results, and messages such as warnings, failures, or post-installation configuration steps that are required for Windows PowerShell Web Access.</span></span> <span data-ttu-id="f1d2f-280">Após a instalação do Windows PowerShell Web Access, você será solicitado a examinar o arquivo Leiame, que contém instruções de configuração básicas e necessárias para o gateway.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-280">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="f1d2f-281">Essas instruções também estão incluídas neste tópico.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-281">These instructions are also included in this topic.</span></span> <span data-ttu-id="f1d2f-282">O caminho para o arquivo Leiame é `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-282">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="f1d2f-283">Configurar o gateway</span><span class="sxs-lookup"><span data-stu-id="f1d2f-283">Configure the gateway</span></span>

<span data-ttu-id="f1d2f-284">As instruções nesta seção referem-se à instalação do aplicativo Web Windows PowerShell Web Access em um subdiretório do seu site e não no diretório raiz.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-284">Instructions in this section are for installing the Windows PowerShell Web Access web application in a subdirectory and not in the root directory of your website.</span></span> <span data-ttu-id="f1d2f-285">Esse procedimento é o equivalente baseado em GUI das ações executadas pelo cmdlet `Install-PswaWebApplication` .</span><span class="sxs-lookup"><span data-stu-id="f1d2f-285">This procedure is the GUI-based equivalent of the actions performed by the `Install-PswaWebApplication` cmdlet.</span></span> <span data-ttu-id="f1d2f-286">Esta seção também inclui instruções sobre como usar o Gerenciador do IIS para configurar o gateway do Windows PowerShell Web Access como um site raiz.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-286">This section also includes instructions for how to use IIS Manager to configure the Windows PowerShell Web Access gateway as a root website.</span></span>

#### <a name="to-use-iis-manager-to-configure-the-gateway-in-an-existing-website"></a><span data-ttu-id="f1d2f-287">Para usar o Gerenciador do IIS a fim de configurar um gateway em um site existente</span><span class="sxs-lookup"><span data-stu-id="f1d2f-287">To use IIS Manager to configure the gateway in an existing website</span></span>

1. <span data-ttu-id="f1d2f-288">Abra o console do Gerenciador do IIS seguindo um destes procedimentos.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-288">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="f1d2f-289">Na área de trabalho do Windows, inicie o Gerenciador do Servidor clicando em **Gerenciador do Servidor** na barra de tarefas do Windows.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-289">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="f1d2f-290">No menu **Ferramentas** no Gerenciador do Servidor, clique em **Gerenciador do IIS (Serviços de Informações da Internet)** .</span><span class="sxs-lookup"><span data-stu-id="f1d2f-290">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="f1d2f-291">Na tela **Iniciar** do Windows, digite qualquer parte do nome **Gerenciador do IIS (Serviços de Informações da Internet)** .</span><span class="sxs-lookup"><span data-stu-id="f1d2f-291">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="f1d2f-292">Clique no atalho quando ele for exibido nos resultados de **Aplicativos**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-292">Click the shortcut when it is displayed in the **Apps** results.</span></span>

2. <span data-ttu-id="f1d2f-293">Crie um novo pool de aplicativos para o Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-293">Create a new application pool for Windows PowerShell Web Access.</span></span> <span data-ttu-id="f1d2f-294">Expanda o nó do servidor de gateway no painel de árvore do Gerenciador do IIS, selecione **Pools de Aplicativos** e clique em **Adicionar Pool de Aplicativos** no painel **Ações**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-294">Expand the node of the gateway server in the IIS Manager tree pane, select **Application Pools**, and click **Add Application Pool** in the **Actions** pane.</span></span>

3. <span data-ttu-id="f1d2f-295">Adicione um novo pool de aplicativos com o nome **pswa_pool** ou forneça outro nome.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-295">Add a new application pool with the name **pswa_pool**, or provide another name.</span></span> <span data-ttu-id="f1d2f-296">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-296">Click **OK**.</span></span>

4. <span data-ttu-id="f1d2f-297">No painel de árvore do Gerenciador do IIS, expanda o nó do servidor no qual o Windows PowerShell Web Access está instalado até que a pasta **Sites** fique visível.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-297">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="f1d2f-298">Selecione a pasta **Sites**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-298">Select the **Sites** folder.</span></span>

5. <span data-ttu-id="f1d2f-299">Clique com o botão direito do mouse no site (por exemplo, **Site Padrão**) ao qual você deseja adicionar o site do Windows PowerShell Web Access e clique em **Adicionar Aplicativo**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-299">Right-click the website (for example, **Default Web Site**) to which you would like to add the Windows PowerShell Web Access website, and then click **Add Application**.</span></span>

6. <span data-ttu-id="f1d2f-300">No campo **Alias**, digite pswa ou forneça outro alias.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-300">In the **Alias** field, type pswa, or provide another alias.</span></span> <span data-ttu-id="f1d2f-301">O alias vira o nome do diretório virtual.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-301">The alias becomes the virtual directory name.</span></span> <span data-ttu-id="f1d2f-302">Por exemplo, **pswa** na URL a seguir representa o alias especificado nesta etapa: `https://<server-name>/pswa`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-302">For example, **pswa** in the following URL represents the alias specified in this step: `https://<server-name>/pswa`.</span></span>

7. <span data-ttu-id="f1d2f-303">No campo **Pool de Aplicativos**, selecione o pool de aplicativos criado na etapa 3.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-303">In the **Application pool** field, select the application pool that you created in step 3.</span></span>

8. <span data-ttu-id="f1d2f-304">No campo **Caminho físico**, procure a localização do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-304">In the **Physical path** field, browse for the location of the application.</span></span> <span data-ttu-id="f1d2f-305">Você pode usar o local padrão, `$env:windir/Web/PowerShellWebAccess/wwwroot`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-305">You can use the default location, `$env:windir/Web/PowerShellWebAccess/wwwroot`.</span></span> <span data-ttu-id="f1d2f-306">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-306">Click **OK**.</span></span>

9. <span data-ttu-id="f1d2f-307">Siga as etapas no procedimento [Para configurar um certificado SSL no Gerenciador do IIS](#to-configure-an-ssl-certificate-in-iis-manager) neste tópico.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-307">Follow the steps in the procedure [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic.</span></span>

10. ![Observação de segurança](images/SecurityNote.jpeg) <span data-ttu-id="f1d2f-309">Etapa opcional de segurança:</span><span class="sxs-lookup"><span data-stu-id="f1d2f-309">Optional security step:</span></span>

    <span data-ttu-id="f1d2f-310">Com o site selecionado no painel de árvore, clique duas vezes em **Configurações de SSL** no painel de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-310">With the website selected in the tree pane, double-click **SSL Settings** in the content pane.</span></span>
    <span data-ttu-id="f1d2f-311">Selecione **Exigir SSL** e, no painel **Ações**, clique em **Aplicar**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-311">Select **Require SSL**, and then in the **Actions** pane, click **Apply**.</span></span> <span data-ttu-id="f1d2f-312">Opcionalmente, no painel **Configurações de SSL**, você pode exigir que os usuários que se conectem ao site do Windows PowerShell Web Access tenham certificados de cliente.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-312">Optionally, in the **SSL Settings** pane, you can require that users connecting to the Windows PowerShell Web Access website have client certificates.</span></span> <span data-ttu-id="f1d2f-313">Os certificados de cliente ajudam a verificar a identidade de um usuário de dispositivo cliente.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-313">Client certificates help to verify the identity of a client device user.</span></span> <span data-ttu-id="f1d2f-314">Para obter mais informações sobre como exigir certificados de cliente que podem aumentar a segurança do Windows PowerShell Web Access, consulte [Regras de autorização e recursos de segurança do Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md) neste guia.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-314">For more information about how requiring client certificates can increase the security of Windows PowerShell Web Access, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md) in this guide.</span></span>

11. <span data-ttu-id="f1d2f-315">Abra uma sessão de navegador em um dispositivo cliente.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-315">Open a browser session on a client device.</span></span> <span data-ttu-id="f1d2f-316">Para obter mais informações sobre navegadores e dispositivos com suporte, consulte [Suporte para navegadores e dispositivos cliente](#browser-and-client-device-support) neste tópico.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-316">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this topic.</span></span>

12. <span data-ttu-id="f1d2f-317">Abra o novo site do Windows PowerShell Web Access, **https://\<*gateway-server-name*\>/pswa**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-317">Open the new Windows PowerShell Web Access website, **https://\<*gateway-server-name*\>/pswa**.</span></span>

    <span data-ttu-id="f1d2f-318">O navegador exibirá a página de entrada do console do Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-318">The browser should display the Windows PowerShell Web Access console sign-in page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="f1d2f-319">Você não poderá fazer logon até que todos os usuários tenham obtido acesso ao site adicionando regras de autorização.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-319">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="f1d2f-320">Para obter mais informações, consulte [Configurar uma regra de autorização restritiva](#configure-a-restrictive-authorization-rule), neste tópico, e [Regras de autorização e recursos de segurança do Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-320">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

13. <span data-ttu-id="f1d2f-321">Em uma sessão do Windows PowerShell, aberta com direitos de usuário elevados (Executar como Administrador), execute o script a seguir, no qual *application_pool_name* representa o nome do pool de aplicativos criado na etapa 3, para conferir ao pool de aplicativos direitos de acesso ao arquivo de autorização.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-321">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which *application_pool_name* represents the name of the application pool that you created in step 3, to give the application pool access rights to the authorization file.</span></span>

    ```powershell
    $applicationPoolName = "<application_pool_name>"
    $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
    c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
    ```

    <span data-ttu-id="f1d2f-322">Para exibir os direitos de acesso existentes relativos ao arquivo de autorização, execute o comando a seguir:</span><span class="sxs-lookup"><span data-stu-id="f1d2f-322">To view existing access rights on the authorization file, run the following command:</span></span>

    ```powershell
    c:\windows\system32\icacls.exe $authorizationFile
    ```

#### <a name="to-use-iis-manager-to-configure-the-gateway-as-a-root-website-with-a-test-certificate"></a><span data-ttu-id="f1d2f-323">Para usar o Gerenciador do IIS a fim de configurar o gateway como site raiz com um certificado de teste</span><span class="sxs-lookup"><span data-stu-id="f1d2f-323">To use IIS Manager to configure the gateway as a root website with a test certificate</span></span>

1. <span data-ttu-id="f1d2f-324">Abra o console do Gerenciador do IIS seguindo um destes procedimentos.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-324">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="f1d2f-325">Na área de trabalho do Windows, inicie o Gerenciador do Servidor clicando em **Gerenciador do Servidor** na barra de tarefas do Windows.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-325">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="f1d2f-326">No menu **Ferramentas** no Gerenciador do Servidor, clique em **Gerenciador do IIS (Serviços de Informações da Internet)** .</span><span class="sxs-lookup"><span data-stu-id="f1d2f-326">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="f1d2f-327">Na tela **Iniciar** do Windows, digite qualquer parte do nome **Gerenciador do IIS (Serviços de Informações da Internet)** .</span><span class="sxs-lookup"><span data-stu-id="f1d2f-327">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="f1d2f-328">Clique no atalho quando ele for exibido nos resultados de **Aplicativos**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-328">Click the shortcut when it is displayed in the **Apps** results.</span></span>

1. <span data-ttu-id="f1d2f-329">No painel de árvore do Gerenciador do IIS, expanda o nó do servidor no qual o Windows PowerShell Web Access está instalado até que a pasta **Sites** fique visível.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-329">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="f1d2f-330">Selecione a pasta **Sites**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-330">Select the **Sites** folder.</span></span>

1. <span data-ttu-id="f1d2f-331">No painel **Ações**, clique em **Adicionar Site**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-331">In the **Actions** pane, click **Add Website**.</span></span>

1. <span data-ttu-id="f1d2f-332">Digite um nome para o site, por exemplo, **Windows PowerShell Web Access**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-332">Type a name for the website, such as **Windows PowerShell Web Access**.</span></span>

1. <span data-ttu-id="f1d2f-333">Um pool de aplicativos será criado automaticamente para o novo site.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-333">An application pool is automatically created for the new website.</span></span> <span data-ttu-id="f1d2f-334">Para usar outro pool de aplicativos, clique em **Selecionar** para selecionar um pool de aplicativos a ser associado ao novo site.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-334">To use a different application pool, click **Select** to select an application pool to associate with the new website.</span></span> <span data-ttu-id="f1d2f-335">Escolha o pool de aplicativos alternativo na caixa de diálogo **Selecionar Pool de Aplicativos** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-335">Select the alternate application pool in the **Select Application Pool** dialog box, and then click **OK**.</span></span>

1. <span data-ttu-id="f1d2f-336">Na caixa de texto **Caminho físico**, navegue até %windir%/Web/PowerShellWebAccess/wwwroot.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-336">In the **Physical path** text box, navigate to %windir%/Web/PowerShellWebAccess/wwwroot.</span></span>

1. <span data-ttu-id="f1d2f-337">No campo **Tipo** da área **Associação**, escolha **https**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-337">In the **Type** field of the **Binding** area, select **https**.</span></span>

1. <span data-ttu-id="f1d2f-338">Atribua um número de porta a um site que ainda não seja usado por outro site ou aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-338">Assign a port number to the website that is not already in use by another site or application.</span></span>
   <span data-ttu-id="f1d2f-339">Para localizar portas abertas, você pode executar o comando **netstat** em uma janela de Prompt de Comando.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-339">To locate open ports, you can run the **netstat** command in a Command Prompt window.</span></span> <span data-ttu-id="f1d2f-340">O número de porta padrão é 443.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-340">The default port number is 443.</span></span>

   <span data-ttu-id="f1d2f-341">Altere a porta padrão se outro site já estiver usando 443 ou se tiver outros motivos relativos à segurança para alterar esse número.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-341">Change the default port if another website is already using 443, or if you have other security reasons for changing the port number.</span></span> <span data-ttu-id="f1d2f-342">Se outro site em execução no seu servidor de gateway estiver usando a porta selecionada, um aviso será exibido quando você clicar em **OK** na caixa de diálogo **Adicionar Site**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-342">If another website that is running on your gateway server is using your selected port, a warning is displayed when you click **OK** in the **Add Website** dialog box.</span></span> <span data-ttu-id="f1d2f-343">Você deve usar uma porta não utilizada para executar o Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-343">You must use an unused port to run Windows PowerShell Web Access.</span></span>

1. <span data-ttu-id="f1d2f-344">Opcionalmente, se necessário para sua organização, especifique um nome de host que faça sentido para a organização e para os usuários, como **`www.contoso.com`** .</span><span class="sxs-lookup"><span data-stu-id="f1d2f-344">Optionally, if needed for your organization, specify a host name that makes sense to your organization and users, such as **`www.contoso.com`**.</span></span> <span data-ttu-id="f1d2f-345">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-345">Click **OK**.</span></span>

1. <span data-ttu-id="f1d2f-346">Para um ambiente de produção mais seguro, recomendamos enfaticamente fornecer um certificado válido assinado por uma AC.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-346">For a more secure production environment, we strongly recommend providing a valid certificate that has been signed by a CA.</span></span> <span data-ttu-id="f1d2f-347">Forneça um certificado SSL, pois os usuários só podem se conectar ao Windows PowerShell Web Access por meio de um site HTTPS.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-347">You must provide an SSL certificate, because users can only connect to Windows PowerShell Web Access through an HTTPS website.</span></span> <span data-ttu-id="f1d2f-348">Consulte [Para configurar um certificado SSL no Gerenciador do IIS](#to-configure-an-ssl-certificate-in-iis-manager) neste tópico para obter mais informações sobre como obter um certificado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-348">See [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic for more information about how to obtain a certificate.</span></span>

1. <span data-ttu-id="f1d2f-349">Clique em **OK** para fechar a caixa de diálogo **Adicionar Site**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-349">Click **OK** to close the **Add Website** dialog box.</span></span>

1. <span data-ttu-id="f1d2f-350">Em uma sessão do Windows PowerShell, aberta com direitos de usuário elevados (Executar como Administrador), execute o script a seguir, no qual _application_pool_name_ representa o nome do pool de aplicativos criado na etapa 4, para conferir ao pool de aplicativos direitos de acesso ao arquivo de autorização.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-350">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which _application_pool_name_ represents the name of the application pool that you created in step 4, to give the application pool access rights to the authorization file.</span></span>

   ```powershell
   $applicationPoolName = "<application_pool_name>"
   $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
   c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
   ```

   <span data-ttu-id="f1d2f-351">Para exibir os direitos de acesso existentes relativos ao arquivo de autorização, execute o comando a seguir:</span><span class="sxs-lookup"><span data-stu-id="f1d2f-351">To view existing access rights on the authorization file, run the following command:</span></span>

   ```powershell
   c:\windows\system32\icacls.exe $authorizationFile
   ```

1. <span data-ttu-id="f1d2f-352">Com o novo site selecionado no painel de árvore do Gerenciador do IIS, clique em **Iniciar** no painel **Ações** para iniciar o site.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-352">With the new website selected in the IIS Manager tree pane, click **Start** in the **Actions** pane to start the website.</span></span>

1. <span data-ttu-id="f1d2f-353">Abra uma sessão de navegador em um dispositivo cliente.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-353">Open a browser session on a client device.</span></span> <span data-ttu-id="f1d2f-354">Para obter mais informações sobre navegadores e dispositivos com suporte, consulte [Suporte para navegador e dispositivo cliente](#browser-and-client-device-support) neste documento.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-354">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this document.</span></span>

1. <span data-ttu-id="f1d2f-355">Abra o novo site do Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-355">Open the new Windows PowerShell Web Access website.</span></span>

   <span data-ttu-id="f1d2f-356">Como o site raiz aponta para a pasta do Windows PowerShell Web Access, o navegador exibirá a página de entrada do Windows PowerShell Web Access quando você abrir `https://<gateway_server_name>`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-356">Because the root website points to the Windows PowerShell Web Access folder, the browser should display the Windows PowerShell Web Access sign-in page when you open `https://<gateway_server_name>`.</span></span> <span data-ttu-id="f1d2f-357">Não será preciso adicionar **/pswa** à URL.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-357">You should not need to add **/pswa** to the URL.</span></span>

   > [!NOTE]
   > <span data-ttu-id="f1d2f-358">Você não poderá fazer logon até que todos os usuários tenham obtido acesso ao site adicionando regras de autorização.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-358">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="f1d2f-359">Para obter mais informações, consulte [Configurar uma regra de autorização restritiva](#configure-a-restrictive-authorization-rule), neste tópico, e [Regras de autorização e recursos de segurança do Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-359">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configuring-a-restrictive-authorization-rule"></a><span data-ttu-id="f1d2f-360">Configurar uma regra de autorização restritiva</span><span class="sxs-lookup"><span data-stu-id="f1d2f-360">Configuring a restrictive authorization rule</span></span>

<span data-ttu-id="f1d2f-361">Depois que o Windows PowerShell Web Access for instalado e o gateway configurado, os usuários poderão abrir a página de entrada em um navegador, mas só poderão entrar depois que o administrador do Windows PowerShell Web Access conceder a eles acesso explicitamente.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-361">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="f1d2f-362">O controle de acesso do Windows PowerShell Web Access é gerenciado por meio de um conjunto de cmdlets do Windows PowerShell descritos na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-362">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="f1d2f-363">Não há uma GUI comparável para adicionar ou gerenciar regras de autorização.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-363">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="f1d2f-364">Para saber mais sobre os cmdlets do Windows PowerShell Web Access, confira os tópicos de referência de cmdlet [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps) (Cmdlets do Windows PowerShell Web Access).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-364">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span></span>

<span data-ttu-id="f1d2f-365">Para obter mais detalhes sobre as regras e a segurança de autorização do Windows PowerShell Web Access, confira [Authorization Rules and Security Features of Windows PowerShell Web Access (Recursos de segurança e regras de autorização do Windows PowerShell Web Access)](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-365">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="adding-a-restrictive-authorization-rule"></a><span data-ttu-id="f1d2f-366">Adicionar uma regra de autorização restritiva</span><span class="sxs-lookup"><span data-stu-id="f1d2f-366">Adding a restrictive authorization rule</span></span>

1. <span data-ttu-id="f1d2f-367">Execute uma das ações a seguir para abrir uma sessão do Windows PowerShell com direitos de usuário elevados.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-367">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="f1d2f-368">Na área de trabalho do Windows, clique com o botão direito do mouse em **Windows PowerShell** na barra de tarefas e clique em **Executar como Administrador**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-368">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="f1d2f-369">Na tela **Iniciar** do Windows, clique com o botão direito do mouse em **Windows PowerShell** e clique em **Executar como Administrador**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-369">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

1. ![Observação de segurança](images/SecurityNote.jpeg) <span data-ttu-id="f1d2f-371">Etapa opcional para restringir o acesso de usuários usando as configurações de sessão:</span><span class="sxs-lookup"><span data-stu-id="f1d2f-371">Optional step for restricting user access by using session configurations:</span></span>

   <span data-ttu-id="f1d2f-372">verifique se já existem as configurações de sessão que você deseja usar em suas regras.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-372">Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="f1d2f-373">Se elas ainda não foram criadas, siga as instruções de como criar configurações de sessão em [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-373">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

1. <span data-ttu-id="f1d2f-374">Digite o seguinte e pressione **Enter**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-374">Type the following, and then press **Enter**.</span></span>

   `Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>`

   <span data-ttu-id="f1d2f-375">Essa regra de autorização permite que um usuário específico acesse um computador na rede ao qual tipicamente tem acesso, com acesso a uma configuração de sessão específica, voltada para suas necessidades típicas de script e cmdlet.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-375">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user'™s typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="f1d2f-376">No exemplo a seguir, um usuário nomeado `JSmith` no domínio `Contoso` ganha acesso para gerenciar o computador `Contoso_214`e usa uma configuração de sessão nomeada `NewAdminsOnly`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-376">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   `Add-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly`

1. <span data-ttu-id="f1d2f-377">Verifique se a regra foi criada executando o cmdlet `Get-PswaAuthorizationRule` ou `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-377">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`.</span></span>

   <span data-ttu-id="f1d2f-378">Por exemplo, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-378">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

   <span data-ttu-id="f1d2f-379">Depois de configurar uma regra de autorização, você está pronto para que os usuários autorizados entrem no console baseado na web e comecem a usar o Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-379">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="configure-a-genuine-certificate"></a><span data-ttu-id="f1d2f-380">Configurar um certificado original</span><span class="sxs-lookup"><span data-stu-id="f1d2f-380">Configure a genuine certificate</span></span>

<span data-ttu-id="f1d2f-381">Para um ambiente de produção seguro, sempre use um certificado SSL válido que foi assinado por uma AC (autoridade de certificação).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-381">For a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span> <span data-ttu-id="f1d2f-382">O procedimento nesta seção descreve como obter e aplicar um certificado SSL válido por meio de uma AC.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-382">The procedure in this section describes how to obtain and apply a valid SSL certificate from a CA.</span></span>

### <a name="to-configure-an-ssl-certificate-in-iis-manager"></a><span data-ttu-id="f1d2f-383">Para configurar um certificado SSL no Gerenciador do IIS</span><span class="sxs-lookup"><span data-stu-id="f1d2f-383">To configure an SSL certificate in IIS Manager</span></span>

1. <span data-ttu-id="f1d2f-384">No painel da árvore Gerenciador do IIS, selecione o servidor no qual o Windows PowerShell Web Access está instalado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-384">In the IIS Manager tree pane, select the server on which Windows PowerShell Web Access is installed.</span></span>

1. <span data-ttu-id="f1d2f-385">No painel de conteúdo, clique duas vezes em **Certificados de Servidor**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-385">In the content pane, double click **Server Certificates**.</span></span>

1. <span data-ttu-id="f1d2f-386">No painel **Ações**, siga um dos procedimentos a seguir.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-386">In the **Actions** pane, do one of the following.</span></span> <span data-ttu-id="f1d2f-387">Para saber mais sobre como configurar certificados de servidor no IIS, confira [Configuring Server Certificates in IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)) (Configurando certificados de servidor no IIS 7).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-387">For more information about configuring server certificates in IIS, see [Configuring Server Certificates in IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span></span>

   - <span data-ttu-id="f1d2f-388">Clique em **Importar** para importar um certificado existente válido de uma localização da sua rede.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-388">Click **Import** to import an existing, valid certificate from a location on your network.</span></span>
   - <span data-ttu-id="f1d2f-389">Clique em **Criar Solicitação de Certificado** para solicitar um certificado de uma AC, como [VeriSign](https://www.verisign.com/), [Thawte](https://www.thawte.com/) ou [GeoTrust](https://www.geotrust.com/).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-389">Click **Create Certificate Request** to request a certificate from a CA such as [VeriSign](https://www.verisign.com/), [Thawte](https://www.thawte.com/), or [GeoTrust](https://www.geotrust.com/).</span></span> <span data-ttu-id="f1d2f-390">O nome comum do certificado deve corresponder ao cabeçalho do host na solicitação.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-390">The certificate's common name must match the host header in the request.</span></span>

     <span data-ttu-id="f1d2f-391">Por exemplo, se o navegador do cliente solicitar `http://www.contoso.com/`, o nome comum também deverá ser `http://www.contoso.com/`.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-391">For example, if the client browser requests `http://www.contoso.com/`, then the common name must also be `http://www.contoso.com/`.</span></span> <span data-ttu-id="f1d2f-392">Esta é a opção mais segura e recomendada para fornecer um gateway do Windows PowerShell Web Access com um certificado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-392">This is the most secure and recommended option for providing the Windows PowerShell Web Access gateway with a certificate.</span></span>

   - <span data-ttu-id="f1d2f-393">Clique em **Criar um Certificado Autoassinado** para criar um certificado que você possa usar imediatamente e que possa ser assinado posteriormente pela AC, se desejado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-393">Click **Create a Self-Signed Certificate** to create a certificate that you can use immediately, and have signed later by a CA if desired.</span></span> <span data-ttu-id="f1d2f-394">Especifique um nome amigável para o certificado autoassinado, por exemplo, **Windows PowerShell Web Access**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-394">Specify a friendly name for the self-signed certificate, such as **Windows PowerShell Web Access**.</span></span> <span data-ttu-id="f1d2f-395">Essa opção não é considerada segura e é recomendada somente para um ambiente de testes privado.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-395">This option is not considered secure, and is recommended only for a private test environment.</span></span>

1. <span data-ttu-id="f1d2f-396">Depois de criar ou obter um certificado, selecione o site ao qual o certificado é aplicado (por exemplo, **Site Padrão**) no painel de árvore do Gerenciador do IIS e clique em **Associações** no painel **Ações**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-396">After creating or obtaining a certificate, select the website to which the certificate is applied (for example, **Default Web Site**) in the IIS Manager tree pane, and then click **Bindings** in the **Actions** pane.</span></span>

1. <span data-ttu-id="f1d2f-397">Na caixa de diálogo **Adicionar Associação do Site**, adicione uma associação **https** ao site, caso ainda nenhuma seja exibida.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-397">In the **Add Site Binding** dialog box, add an **https** binding for the site, if one is not already displayed.</span></span> <span data-ttu-id="f1d2f-398">Se você não estiver usando um certificado autoassinado, especifique o nome do host da etapa 3 deste procedimento.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-398">If you are not using a self-signed certificate, specify the host name from step 3 of this procedure.</span></span> <span data-ttu-id="f1d2f-399">Se estiver usando um certificado autoassinado, esta etapa não será necessária.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-399">If you are using a self-signed certificate, this step is not required.</span></span>

1. <span data-ttu-id="f1d2f-400">Selecione o certificado obtido ou criado na etapa 3 deste procedimento e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-400">Select the certificate that you obtained or created in step 3 of this procedure, and then click **OK**.</span></span>

## <a name="using-the-web-based-windows-powershell-console"></a><span data-ttu-id="f1d2f-401">Usando o console do Windows PowerShell baseado na Web</span><span class="sxs-lookup"><span data-stu-id="f1d2f-401">Using the web-based Windows PowerShell console</span></span>

<span data-ttu-id="f1d2f-402">Depois que o Windows PowerShell Web Access é instalado e a configuração do gateway é concluída, como descrito neste tópico, o console do Windows PowerShell baseado na Web está pronto para uso.</span><span class="sxs-lookup"><span data-stu-id="f1d2f-402">After Windows PowerShell Web Access is installed and the gateway configuration is finished as described in this topic, the Windows PowerShell web-based console is ready to use.</span></span> <span data-ttu-id="f1d2f-403">Para saber mais sobre como começar a usar o console baseado na Web, confira [Use the Web-based Windows PowerShell Console (Usar o console do Windows PowerShell baseado na Web)](use-the-web-based-windows-powershell-console.md).</span><span class="sxs-lookup"><span data-stu-id="f1d2f-403">For more information about getting started in the web-based console, see [Use the Web-based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="f1d2f-404">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="f1d2f-404">See Also</span></span>

<span data-ttu-id="f1d2f-405">[Documentação do IIS (Serviços de Informações da Internet) 7.0](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="f1d2f-405">[Internet Information Services (IIS) 7.0 Documentation](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span></span>

<span data-ttu-id="f1d2f-406">[Ajuda do Gerenciador do IIS 7.0](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span><span class="sxs-lookup"><span data-stu-id="f1d2f-406">[IIS Manager 7.0 Help](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span></span>

<span data-ttu-id="f1d2f-407">[Configurar a segurança do servidor Web (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="f1d2f-407">[Configure Web Server Security (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span></span>

<span data-ttu-id="f1d2f-408">[Recursos de implantação de IPsec](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="f1d2f-408">[IPsec Deployment Resources](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span></span>
